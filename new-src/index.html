<!doctype html>
<title>mini shell </title>

<script data-legit=mi>
  <%=embedFile('boot/onerror.js')%>
//# sourceURL=boot/onerror.js
</script>
<script data-legit=mi>
  earlyBoot();
  <%=embedFile('boot/base.js')%>
  <%=embedFile('boot/earlyBoot.js')%>
  <%=embedFile('boot/bootUI.js')%>
//# sourceURL=/boot/base.js
</script>
<script data-legit=mi>
<%=typescriptBuild('/load/*', '/persistence/*', '/boot/*', '/typings/*')%>
//# sourceURL=/load/shellLoader.ts.js
</script>

<!-- total 56Mb, saved 25 Apr 2015 22:52:01.231 -->

<!-- /empty/
-->


<!-- /LF-file.txt
123
456-->

<!-- /CRLF-file [CRLF]
123
456-->

<!-- /CR-file [CR]
123
456-->

<!-- /eval-file.txt [eval]
 "random char: " + String.fromCharCode(Math.random()*16000)+"\n"+
 "date: "+new Date()+"\n"+
 "location: "+location -->

<!-- /json-file.txt [json]
"new ok \u2222 and what\r\n or \u0001?\n\n\n"-->

<%=(function() {
var dump = [];
for (var i = 0; i < 2000; i++) {
	dump.push('<'+'!'+'-- /large-directory/'+(500+i)+'.txt');
  dump.push('OK --'+'>');
}
return dump.join('\n');
   })()%>





<!-- /shell/start.ts.js
<%=typescriptBuild('/shell/*', '/boot/base.d.ts', '/persistence/Drive.ts')%>-->

<!-- /shell/style.css
<%=(function() {
	var drive = portabled.build.processTemplate.mainDrive;
	var files = drive.files();
	var styleText = [];
  for (var i = 0; i < files.length; i++) {
    if (/^\/shell\/[\s\S]*\.css$/.test(files[i]))
      styleText.push(drive.read(files[i]));
  }
	return styleText.join('\n');

})()%>
-->

<%=(function() {

	var drive = portabled.build.processTemplate.mainDrive;
	var files = drive.files();
	var fileDump = [];
  for (var i = 0; i < files.length; i++) {
    var content = drive.read(files[i]);
    var decoratedContent = content.replace(/\-\-(\**)\>/g, '--*$1>');
	  fileDump.push('<'+'!'+'-- '+'/src'+files[i]);
    fileDump.push(decoratedContent);
    fileDump.push('--'+'!'+'>');
  }
	return fileDump.join('\n');

})()%>

